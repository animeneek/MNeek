<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MovieNeek | Home</title>
  <!-- Load all dependencies in main file -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            dark: '#222',
            primary: '#ff4444',
          },
        },
      },
    };
  </script>
  <style>
    /* Header styles */
    .glass-nav {
      background: rgba(10, 10, 10, 0.85);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: rgba(20, 20, 20, 0.95);
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      z-index: 1000;
    }
    /* Hero slider styles */
    .hero-slide {
      transition: transform 0.5s ease;
      background-size: cover;
      background-position: center;
    }
    .hero-slide:hover {
      transform: scale(1.02);
    }
  </style>
</head>
<body class="bg-black text-white">
  <!-- Header Content (copied from header.html) -->
  <header class="glass-nav fixed top-0 left-0 right-0 z-50 hidden md:block">
    <!-- ... (same header content as your header.html) ... -->
  </header>
  <!-- ... (rest of mobile header from header.html) ... -->
  <div class="h-24 md:h-20"></div>

  <!-- Hero Slider -->
  <section class="relative h-[70vh] min-h-[500px] overflow-hidden">
    <div id="hero-slider" class="h-full w-full flex overflow-hidden">
      <!-- Slides will be added by JavaScript -->
    </div>
    <div id="hero-dots" class="absolute bottom-8 left-0 right-0 flex justify-center gap-2">
      <!-- Dots will be added by JavaScript -->
    </div>
  </section>

  <script>
    const TMDB_API_KEY = 'e3afd4c89e3351edad9e875ff7a01f0c';
    
    async function fetchPopularMovies() {
      try {
        const response = await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${TMDB_API_KEY}`);
        const data = await response.json();
        return data.results.slice(0, 5); // Get top 5 popular movies
      } catch (error) {
        console.error('Error fetching popular movies:', error);
        return [];
      }
    }

    function createHeroSlide(movie) {
      return `
        <div class="hero-slide flex-shrink-0 w-full h-full relative" 
             style="background-image: url(https://image.tmdb.org/t/p/original${movie.backdrop_path})">
          <div class="absolute inset-0 bg-gradient-to-t from-black via-black/70 to-transparent"></div>
          <div class="absolute bottom-0 left-0 right-0 p-8 md:p-12 lg:p-16 max-w-4xl">
            <div class="flex gap-2 mb-3">
              ${movie.genre_ids.slice(0,2).map(id => `
                <span class="bg-primary text-xs px-2 py-1 rounded">${getGenreName(id)}</span>
              `).join('')}
              <span class="bg-dark text-xs px-2 py-1 rounded">${movie.release_date.substring(0,4)}</span>
            </div>
            <h2 class="text-3xl md:text-5xl font-bold mb-3">${movie.title}</h2>
            <p class="text-gray-300 mb-5 line-clamp-2">${movie.overview}</p>
            <div class="flex gap-3">
              <button onclick="window.location.href='watch.html?id=${movie.id}'" 
                      class="bg-primary hover:bg-red-600 px-6 py-2 rounded-full font-medium flex items-center">
                <i class="fas fa-play mr-2"></i> Watch Now
              </button>
              <button onclick="window.location.href='info.html?id=${movie.id}'" 
                      class="bg-white/10 hover:bg-white/20 px-6 py-2 rounded-full font-medium flex items-center">
                <i class="fas fa-info-circle mr-2"></i> More Info
              </button>
            </div>
          </div>
        </div>
      `;
    }

    // Initialize hero slider
    async function initHeroSlider() {
      const movies = await fetchPopularMovies();
      const slider = document.getElementById('hero-slider');
      const dots = document.getElementById('hero-dots');
      
      slider.innerHTML = movies.map(movie => createHeroSlide(movie)).join('');
      dots.innerHTML = movies.map((_, i) => `
        <button class="w-3 h-3 rounded-full ${i === 0 ? 'bg-primary' : 'bg-white/30'}"></button>
      `).join('');
      
      // Add slider autoplay functionality here
    }

    // Simple genre mapping (should be expanded)
    function getGenreName(id) {
      const genres = {
        28: 'Action', 12: 'Adventure', 16: 'Animation',
        35: 'Comedy', 80: 'Crime', 18: 'Drama',
        10751: 'Family', 14: 'Fantasy', 36: 'History'
      };
      return genres[id] || 'Movie';
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', initHeroSlider);
  </script>
</body>
</html>
